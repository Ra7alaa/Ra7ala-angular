<div class="trip-details-container" *ngIf="trip">
  <div class="trip-header">
    <div class="trip-image">
      <img [src]="trip.imageUrl" [alt]="trip.title" />
    </div>
    <div class="trip-header-content">
      <h1>{{ trip.title }}</h1>
      <div class="trip-meta">
        <div class="meta-item">
          <i class="bi bi-geo-alt"></i>
          <span>{{ "cities." + trip.location.toLowerCase() | translate }}</span>
        </div>

    
      </div>
    </div>
  </div>

  <div class="trip-content">
    <div class="trip-main">
      <div class="section-trip-description">
        <h2>Trip Overview</h2>
        <p>{{ trip.description }}</p>
        
        <!-- City specific details -->
        <div class="trip-location-details">
          <!-- Alexandria Information -->
          <div class="trip-info" *ngIf="trip.location === 'Alexandria'">
            <h3>Historical Background:</h3>
            <p>Founded by Alexander the Great in 331 BCE, Alexandria quickly became a major center of Greek culture and learning.</p>
            
            <h3>Major Attractions:</h3>
            <ul>
              <li>Bibliotheca Alexandrina - Modern library built near the site of the ancient Library of Alexandria</li>
              <li>Citadel of Qaitbay - 15th-century fortress built on the site of the ancient Lighthouse</li>
              <li>Roman Amphitheater - The only known Roman theater in Egypt</li>
              <li>Montaza Palace - Royal palace with beautiful gardens along the Mediterranean coast</li>
            </ul>
            
            <h3>Modern Alexandria:</h3>
            <ul>
              <li>Population: ~5.2 million</li>
              <li>Economy: Major port city, tourism, and cultural center</li>
              <li>Climate: Mediterranean, with mild winters and warm summers</li>
            </ul>
          </div>

          <!-- Cairo Information -->
          <div class="trip-info" *ngIf="trip.location === 'Cairo'">
            <h3>Historical Background:</h3>
            <p>Founded in 969 CE, Cairo has been Egypt's capital for over a millennium.</p>
            
            <h3>Major Attractions:</h3>
            <ul>
              <li>The Pyramids of Giza - Last surviving wonder of the ancient world</li>
              <li>Egyptian Museum - Home to thousands of ancient artifacts</li>
              <li>Khan el-Khalili - Historic bazaar and cultural site</li>
              <li>Al-Azhar Mosque - One of the oldest and most prestigious Islamic institutions</li>
            </ul>
            
            <h3>Modern Cairo:</h3>
            <ul>
              <li>Population: ~20 million (metropolitan area)</li>
              <li>Economy: Egypt's primary commercial and cultural hub</li>
              <li>Climate: Hot desert climate with mild winters</li>
            </ul>
          </div>

          <!-- Luxor Information -->
          <div class="trip-info" *ngIf="trip.location === 'Luxor'">
            <h3>Historical Background:</h3>
            <p>Ancient Thebes, capital of Egypt during the New Kingdom period (16th-11th centuries BCE).</p>
            
            <h3>Major Attractions:</h3>
            <ul>
              <li>Valley of the Kings - Burial ground of pharaohs including Tutankhamun</li>
              <li>Karnak Temple - Largest religious building ever constructed</li>
              <li>Luxor Temple - Stunning example of ancient Egyptian architecture</li>
              <li>Deir el-Bahari - Temple of Queen Hatshepsut</li>
            </ul>
            
            <h3>Modern Luxor:</h3>
            <ul>
              <li>Population: ~500,000</li>
              <li>Economy: Tourism and agriculture</li>
              <li>Climate: Hot desert climate with very little rainfall</li>
            </ul>
          </div>
        </div>

        <!-- Photo Gallery -->
        <div class="trip-gallery">
          <h3>Trip Photos</h3>
          <div class="gallery-grid">
            <div class="gallery-item" *ngIf="trip.imageUrl1">
              <img [src]="trip.imageUrl1" [alt]="trip.title + ' view 1'" loading="lazy" />
            </div>
            <div class="gallery-item" *ngIf="trip.imageUrl2">
              <img [src]="trip.imageUrl2" [alt]="trip.title + ' view 2'" loading="lazy" />
            </div>
            <div class="gallery-item" *ngIf="trip.imageUrl3">
              <img [src]="trip.imageUrl3" [alt]="trip.title + ' view 3'" loading="lazy" />
            </div>
          </div>
        </div>

        <!-- Location Map -->
        <div class="trip-location-map">
          <h3>Location</h3>
          <div class="map-container">
            <iframe
              [src]="getSecureMapUrl(trip.googleMapUrl)"
              width="100%"
              height="450"
              style="border:0;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading State -->
<div class="trip-details-container" *ngIf="!trip">
  <div class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">Loading trip details...</p>
  </div>
</div>

<!-- Back Button -->
<div class="back-button container">
  <a [routerLink]="['/']" class="btn-back">
    <i class="bi bi-arrow-left"></i> Back to Trips
  </a>
</div>
